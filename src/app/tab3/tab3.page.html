<ion-header [ngClass]="{'androidHeader' : userOnAndroid }">
  <ion-toolbar>
    <form action=".">
      <ion-searchbar [ngClass]="{'littleSearcher' : littleSearchbar }" placeholder="Search Common or Scientific Name..." value="{{searchQuery}}" (change)="checkAPI($event, false)" type="search" (ionClear)="clearSearch()" [(ngModel)]="singleLetterQuery" [ngModelOptions]="{standalone: true}" showSearchButton animated></ion-searchbar>
    </form>
    <ion-item class="toggle littleSwitch animated fadeIn" *ngIf="littleSearchbar">
      <ion-toggle [(ngModel)]="saltwater" (click)="switchSalt()"></ion-toggle>
    </ion-item>
  </ion-toolbar>

  <ion-toolbar class="saltSwitch" *ngIf="!speciesSelected && searchQuery < 2">
    <ion-item class="toggle">

    <!-- <h1 class="pondTitleVersion" *ngIf="!popularMode" (click)="loadPopular()">More</h1> -->

    <h1 class="pondTitleVersion" *ngIf="!popularMode && !randomMode">
      <label (click)="loadPopular()">Popular</label>
      <font color="#8e8e8e"> &bull; </font>
      <label (click)="loadRandom()">Random</label>
    </h1>

    <h1 class="pondTitleVersion" *ngIf="popularMode || randomMode">
      <label *ngIf="randomMode" (click)="loadRandom()">Reload</label>
      <font *ngIf="randomMode" color="#8e8e8e"> &bull; </font>
      <label (click)="unloadAll()">Done</label>
    </h1>


      <ion-label *ngIf="saltwater">Saltwater</ion-label>
      <ion-label *ngIf="!saltwater">Freshwater</ion-label>
      <ion-toggle [(ngModel)]="saltwater" (click)="switchPopular()"></ion-toggle>
    </ion-item>
  </ion-toolbar>

  <ion-toolbar class="alphabetHeader" *ngIf="searchQuery.length > 2 && !speciesSelected">
    <ion-item *ngIf="!doneLoading">
      <!-- <h2 class="alphabetSpeciesLoading">Loading All Species...</h2> -->
      <img class="tempLoader animated fadeIn" src="../assets/dnaLoader.gif" />
    </ion-item>

    <ion-item *ngIf="doneLoading">
      <ul class="alphabet animated fadeIn">
        <li class="letter" (click)="newLetterSwitcher('a')" [ngClass]="{'litLetter' : selectedLetter == 'a'}">a</li>
        <li class="letter" (click)="newLetterSwitcher('b')" [ngClass]="{'litLetter' : selectedLetter == 'b'}">b</li>
        <li class="letter" (click)="newLetterSwitcher('c')" [ngClass]="{'litLetter' : selectedLetter == 'c'}">c</li>
        <li class="letter" (click)="newLetterSwitcher('d')" [ngClass]="{'litLetter' : selectedLetter == 'd'}">d</li>
        <li class="letter" (click)="newLetterSwitcher('e')" [ngClass]="{'litLetter' : selectedLetter == 'e'}">e</li>
        <li class="letter" (click)="newLetterSwitcher('f')" [ngClass]="{'litLetter' : selectedLetter == 'f'}">f</li>
        <li class="letter" (click)="newLetterSwitcher('g')" [ngClass]="{'litLetter' : selectedLetter == 'g'}">g</li>
        <li class="letter" (click)="newLetterSwitcher('h')" [ngClass]="{'litLetter' : selectedLetter == 'h'}">h</li>
        <li class="letter" (click)="newLetterSwitcher('i')" [ngClass]="{'litLetter' : selectedLetter == 'i'}">i</li>
        <li class="letter" (click)="newLetterSwitcher('j')" [ngClass]="{'litLetter' : selectedLetter == 'j'}">j</li>
        <li class="letter" (click)="newLetterSwitcher('k')" [ngClass]="{'litLetter' : selectedLetter == 'k'}">k</li>
        <li class="letter" (click)="newLetterSwitcher('l')" [ngClass]="{'litLetter' : selectedLetter == 'l'}">l</li>
        <li class="letter" (click)="newLetterSwitcher('m')" [ngClass]="{'litLetter' : selectedLetter == 'm'}">m</li>
        <li class="letter" (click)="newLetterSwitcher('n')" [ngClass]="{'litLetter' : selectedLetter == 'n'}">n</li>
        <li class="letter" (click)="newLetterSwitcher('o')" [ngClass]="{'litLetter' : selectedLetter == 'o'}">o</li>
        <li class="letter" (click)="newLetterSwitcher('p')" [ngClass]="{'litLetter' : selectedLetter == 'p'}">p</li>
        <li class="letter" (click)="newLetterSwitcher('q')" [ngClass]="{'litLetter' : selectedLetter == 'q'}">q</li>
        <li class="letter" (click)="newLetterSwitcher('r')" [ngClass]="{'litLetter' : selectedLetter == 'r'}">r</li>
        <li class="letter" (click)="newLetterSwitcher('s')" [ngClass]="{'litLetter' : selectedLetter == 's'}">s</li>
        <li class="letter" (click)="newLetterSwitcher('t')" [ngClass]="{'litLetter' : selectedLetter == 't'}">t</li>
        <li class="letter" (click)="newLetterSwitcher('u')" [ngClass]="{'litLetter' : selectedLetter == 'u'}">u</li>
        <li class="letter" (click)="newLetterSwitcher('v')" [ngClass]="{'litLetter' : selectedLetter == 'v'}">v</li>
        <li class="letter" (click)="newLetterSwitcher('w')" [ngClass]="{'litLetter' : selectedLetter == 'w'}">w</li>
        <li class="letter" (click)="newLetterSwitcher('x')" [ngClass]="{'litLetter' : selectedLetter == 'x'}">x</li>
        <li class="letter" (click)="newLetterSwitcher('y')" [ngClass]="{'litLetter' : selectedLetter == 'y'}">y</li>
        <li class="letter" (click)="newLetterSwitcher('z')" [ngClass]="{'litLetter' : selectedLetter == 'z'}">z</li>
      </ul>
    </ion-item>
  </ion-toolbar>

  <!-- <ion-toolbar class="alphabetHeader" *ngIf="searchQuery.length > 2 && selectedLetter">
    <ion-item *ngIf="!doneLoading">
      <img class="tempLoader animated fadeIn" src="../assets/dnaLoader.gif" />
    </ion-item>

    <ion-item *ngIf="doneLoading">
      <ul class="alphabet animated fadeIn">
        <li class="letter" (click)="newLetterSwitcher('a')" [ngClass]="{'litLetter' : selectedLetter == 'a'}">a</li>
        <li class="letter" (click)="newLetterSwitcher('b')" [ngClass]="{'litLetter' : selectedLetter == 'b'}">b</li>
        <li class="letter" (click)="newLetterSwitcher('c')" [ngClass]="{'litLetter' : selectedLetter == 'c'}">c</li>
        <li class="letter" (click)="newLetterSwitcher('d')" [ngClass]="{'litLetter' : selectedLetter == 'd'}">d</li>
        <li class="letter" (click)="newLetterSwitcher('e')" [ngClass]="{'litLetter' : selectedLetter == 'e'}">e</li>
        <li class="letter" (click)="newLetterSwitcher('f')" [ngClass]="{'litLetter' : selectedLetter == 'f'}">f</li>
        <li class="letter" (click)="newLetterSwitcher('g')" [ngClass]="{'litLetter' : selectedLetter == 'g'}">g</li>
        <li class="letter" (click)="newLetterSwitcher('h')" [ngClass]="{'litLetter' : selectedLetter == 'h'}">h</li>
        <li class="letter" (click)="newLetterSwitcher('i')" [ngClass]="{'litLetter' : selectedLetter == 'i'}">i</li>
        <li class="letter" (click)="newLetterSwitcher('j')" [ngClass]="{'litLetter' : selectedLetter == 'j'}">j</li>
        <li class="letter" (click)="newLetterSwitcher('k')" [ngClass]="{'litLetter' : selectedLetter == 'k'}">k</li>
        <li class="letter" (click)="newLetterSwitcher('l')" [ngClass]="{'litLetter' : selectedLetter == 'l'}">l</li>
        <li class="letter" (click)="newLetterSwitcher('m')" [ngClass]="{'litLetter' : selectedLetter == 'm'}">m</li>
        <li class="letter" (click)="newLetterSwitcher('n')" [ngClass]="{'litLetter' : selectedLetter == 'n'}">n</li>
        <li class="letter" (click)="newLetterSwitcher('o')" [ngClass]="{'litLetter' : selectedLetter == 'o'}">o</li>
        <li class="letter" (click)="newLetterSwitcher('p')" [ngClass]="{'litLetter' : selectedLetter == 'p'}">p</li>
        <li class="letter" (click)="newLetterSwitcher('q')" [ngClass]="{'litLetter' : selectedLetter == 'q'}">q</li>
        <li class="letter" (click)="newLetterSwitcher('r')" [ngClass]="{'litLetter' : selectedLetter == 'r'}">r</li>
        <li class="letter" (click)="newLetterSwitcher('s')" [ngClass]="{'litLetter' : selectedLetter == 's'}">s</li>
        <li class="letter" (click)="newLetterSwitcher('t')" [ngClass]="{'litLetter' : selectedLetter == 't'}">t</li>
        <li class="letter" (click)="newLetterSwitcher('u')" [ngClass]="{'litLetter' : selectedLetter == 'u'}">u</li>
        <li class="letter" (click)="newLetterSwitcher('v')" [ngClass]="{'litLetter' : selectedLetter == 'v'}">v</li>
        <li class="letter" (click)="newLetterSwitcher('w')" [ngClass]="{'litLetter' : selectedLetter == 'w'}">w</li>
        <li class="letter" (click)="newLetterSwitcher('x')" [ngClass]="{'litLetter' : selectedLetter == 'x'}">x</li>
        <li class="letter" (click)="newLetterSwitcher('y')" [ngClass]="{'litLetter' : selectedLetter == 'y'}">y</li>
        <li class="letter" (click)="newLetterSwitcher('z')" [ngClass]="{'litLetter' : selectedLetter == 'z'}">z</li>
      </ul>
    </ion-item>
  </ion-toolbar> -->

</ion-header>

<div class="selectTankPopup animated bounceIn" *ngIf="showSelectTank">
  <div class="loadingSpinner lessTopSpinner" *ngIf="showTankListLoader">
    <ion-spinner name="crescent"></ion-spinner>
  </div>

  <ion-icon class="checkIcon" name="checkmark" *ngIf="showTankListTick"></ion-icon>

  <div *ngIf="!showTankListLoader && !showTankListTick && !showTankQuanityList">
    <h1>Add {{toAddToTankSpecies.name}} to Tank?</h1>

    <label class="noTanksYet" *ngIf="tanks.length < 1">You have no tanks yet</label>

    <ion-list *ngIf="tanks.length >= 1">
      <ion-item *ngFor="let tank of tanks">
        <ion-label (click)="selectTank(tank)">{{tank.name}}</ion-label>
      </ion-item>
    </ion-list>
  </div>

  <div *ngIf="!showTankListLoader && !showTankListTick && showTankQuanityList && !currentQuantity">
    <h1>Select quantity of {{toAddToTankSpecies.name}}'s in {{activeTankSelect.name}}</h1>

    <ion-input class="centerSelectNumber" pattern="[0-9]*" type="text" placeholder="1" (change)="setSpeciesTankQuantity($event.target.value)"></ion-input>

    <div class="buttonsLive">
      <div class="block" (click)="cancelAddToTank()">CANCEL</div>
      <div class="block" (click)="addFishToTank(tank)">ADD</div>
    </div>
  </div>

  <div *ngIf="!showTankListLoader && !showTankListTick && showTankQuanityList && currentQuantity">
    <h1>Update quantity of {{toAddToTankSpecies.name}}'s in {{activeTankSelect.name}}</h1>

    <ion-input class="centerSelectNumber" value="{{currentQuantity}}" pattern="[0-9]*" type="text" placeholder="1" (change)="setSpeciesTankQuantity($event.target.value)"></ion-input>

    <div class="buttonsLive">
      <div class="block" (click)="cancelAddToTank()">CANCEL</div>
      <div class="block right" (click)="addFishToTank(tank)">ADD</div>
    </div>
  </div>

</div>

<div class="backgroundDimmer" (click)="hideTankMenu()" *ngIf="showSelectTank"></div>


<ion-content *ngIf="!speciesSelected" class="blueBack" id="coreScroll">

  <ion-icon class="clearSearchTxt" *ngIf="selectedLetter" (click)="clearSwitcher()" name="close-circle-outline"></ion-icon>

  <div *ngIf="!speciesSelected">

    <!-- LOGOS -->
    <div *ngIf="searchQuery.length <= 2 && !popularMode && !randomMode">
      <img *ngIf="!saltwater" src="../assets/whiteKoiClear.png" class="koiLogo animated pulse infinite"/>
      <img *ngIf="saltwater" src="../assets/turtleClear.png" class="koiLogo tunaLogo animated pulse infinite"/>
    </div>

    <!-- NOTHING FOUND TEXT  -->
    <label class="nothingFoundTxt" [ngClass]="{'pushNothingUp' : shortRelatedPassage.length >= 1}" *ngIf="searchQuery.length > 2 && doneLoading && this.ourFish.length == 0 && this.fbSpecies.length == 0 && this.relatedSpecies.length == 0">
      <b>No results returned.</b>
      <br  /><br />
      Please try a different query. If nothing seems to work, type the fish name into google, then copy either the genus or species name into the searchbar.
      <br /><br />
      When searching for a saltwater or ocean fish,  try a
      <a *ngIf="saltwater" (click)="showFreshWater()">freshwater search</a>
      <a *ngIf="!saltwater" (click)="showSaltWater()">saltwater search</a>?

      <!-- DID YOU MEAN RESULTS -->
      <div *ngIf="doneLoading && relatedSearchResults" class="genusDescription cyaTxt" [innerHTML]="relatedSearchResults"></div>

      <div *ngIf="doneLoading && shortRelatedPassage" class="didYouMeanResults">
        <h1 *ngIf="shortRelatedPassage.length >= 1">Potentially Related Species:</h1>
        <p *ngIf="shortRelatedPassage.length >= 1" [innerHTML]="shortRelatedPassage"></p>
        <h1 *ngIf="finalRelatedSearchResults >= 1">Species Match:</h1>
        <ul>
          <li class="didYouMeanItem" *ngFor="let species of finalRelatedSearchResults" (click)="showGenus(species)">{{species}}</li>
        </ul>
      </div>
    </label>

    <!-- GENUS DESCRIPTION -->
    <span *ngIf="searchingGenus && genusDescription && this.ourFish.length !== 0 && this.fbSpecies.length !== 0 && this.relatedSpecies.length !== 0">
      <div *ngIf="!fullGenusDescription" class="genusDescription animated slideInLeft" [innerHTML]="genusDescription" (click)="generateFullGenusDescription()"></div>
      <div *ngIf="fullGenusDescription" class="genusDescription animated slideInLeft" [innerHTML]="genusDescription" (click)="generateGenusDescription()"></div>
    </span>

    <!-- POPULAR SPECIES -->
    <div *ngIf="popularMode" class="theResults">
      <div class="topTitle" *ngIf="!saltwater">The most viewed freshwater species</div>
      <div class="topTitle" *ngIf="saltwater">The most viewed saltwater species</div>

      <ion-card class="animated bounceInLeft" *ngFor="let fish of popularSpecies">
        <ion-card-header>
          <ion-card-subtitle>
            <b (click)="showGenus(fish.genus)">{{fish.genus}}</b>
            <i> {{fish.species}}</i>

            <ion-icon *ngIf="!fish.isFavourited" class="rightIconMore" (click)="addFishToWishlist(fish)" name="star-outline"></ion-icon>
            <ion-icon *ngIf="fish.isFavourited" class="rightIconMore starIco" (click)="addFishToWishlist(fish)" name="star"></ion-icon>

            <ion-icon class="rightIconMore" (click)="addTankTrigger(fish)" name="add-circle-outline"></ion-icon>

          </ion-card-subtitle>
          <ion-card-title (click)="selectSpecies(fish, true)">{{fish.name}}</ion-card-title>
        </ion-card-header>

        <ion-slides pager="false">
          <ng-template let-img ngFor [ngForOf]="fish['Pics']">
           <ion-slide id="myImg" class="imageBox" (click)="selectSpecies(fish, true)">
             <img [src]="img" onerror="this.src='../assets/noImg.png'; document.getElementById('myImg').style.display='none'" />
           </ion-slide>
           </ng-template>
        </ion-slides>

      </ion-card>
    </div>

    <!-- RANDOM SPECIES -->
    <div *ngIf="randomMode" class="theResults">
      <h1 class="fishGeneratedType" *ngIf="randomSpecies.fresh && randomSpecies.fresh == -1">Freshwater species generated</h1>
      <h1 class="fishGeneratedType" *ngIf="randomSpecies.fresh && randomSpecies.fresh != -1">Saltwater species generated</h1>

      <ion-card class="animated bounceInLeft" *ngIf="randomSpecies.fresh">
        <ion-card-header>
          <ion-card-subtitle>
            <b (click)="showGenus(randomSpecies.genus)">{{randomSpecies.genus}}</b>
            <i> {{randomSpecies.species}}</i>

            <ion-icon *ngIf="!randomSpecies.isFavourited" class="rightIconMore" (click)="addRandomFishToWishlist()" name="star-outline"></ion-icon>
            <ion-icon *ngIf="randomSpecies.isFavourited" class="rightIconMore starIco" (click)="addRandomFishToWishlist()" name="star"></ion-icon>

            <ion-icon class="rightIconMore" (click)="addTankTrigger(randomSpecies)" name="add-circle-outline"></ion-icon>
          </ion-card-subtitle>
          <ion-card-title (click)="selectSpecies(randomSpecies, true)">{{randomSpecies.name}}</ion-card-title>
        </ion-card-header>

        <ion-slides pager="false">
          <ng-template let-img ngFor [ngForOf]="randomSpecies['Pics']">
           <ion-slide id="myImg" class="imageBox" (click)="selectSpecies(fish, true)">
             <img [src]="img" onerror="this.src='../assets/noImg.png'; document.getElementById('myImg').style.display='none'" />
           </ion-slide>
           </ng-template>
        </ion-slides>

      </ion-card>
    </div>

    <!-- POND'S SPECIES -->
    <div *ngIf="loadedLocalSpecies && ourFish.length >= 1 && !hideOurFish" class="theResults">
      <div class="topTitle" *ngIf="ourFishLength >= 1">{{ ourFishLength }} Species Found from Pond</div>

      <ion-card class="animated bounceInLeft" *ngFor="let fish of ourFish">
        <ion-card-header>
          <ion-card-subtitle>
            <b (click)="showGenus(fish.genus)">{{fish.genus}}</b>
            <i> {{fish.species}}</i>

            <ion-icon *ngIf="!fish.isFavourited" class="rightIconMore" (click)="addFishToWishlist(fish)" name="star-outline"></ion-icon>
            <ion-icon *ngIf="fish.isFavourited" class="rightIconMore starIco" (click)="addFishToWishlist(fish)" name="star"></ion-icon>

            <ion-icon class="rightIconMore" (click)="addTankTrigger(fish)" name="add-circle-outline"></ion-icon>
          </ion-card-subtitle>
          <ion-card-title (click)="selectSpecies(fish, true)" class="fishNameText">{{fish.name}}</ion-card-title>
        </ion-card-header>

        <ion-slides pager="false">
          <ng-template let-img ngFor [ngForOf]="fish['Pics']">
           <ion-slide id="myImg" class="imageBox" (click)="selectSpecies(fish, true)">
             <img [src]="img" onerror="this.src='../assets/noImg.png'; document.getElementById('myImg').style.display='none'" />
           </ion-slide>
           </ng-template>
        </ion-slides>

        <!-- <ion-slides pager="false">
         <ion-slide class="imageBox" *ngFor="let img of species['Pics']; let i = index" >
           <img [src]="img" onerror="this.src='../assets/noImg.png'" />
         </ion-slide>
        </ion-slides> -->

        <ion-card-content *ngIf="fish.wikiDesc" class="maxSizeContent" [innerHTML]="fish.wikiDesc">
        </ion-card-content>

      </ion-card>
    </div>

    <!-- FISHBASE SPECIES -->
    <div *ngIf="doneLoading && fbSpecies.length >= 1" class="theResults">

      <div class="topTitle" *ngIf="fbSpeciesLength >= 1">{{ fbSpeciesLength }} Species Found from Fishbase</div>

      <div *ngFor="let fish of fbSpecies">
        <ion-card class="animated bounceInLeft" *ngIf="fish.id >= minSpeciesReturn && fish.id <= maxSpeciesReturn">
          <ion-card-header>
            <ion-card-subtitle><b (click)="showGenus(fish.Genus)">{{fish.Genus}}</b><i> {{fish.Species}}</i></ion-card-subtitle>
            <ion-card-title *ngIf="fish.FBname">{{fish.FBname}}</ion-card-title>
            <ion-card-title *ngIf="!fish.FBname">{{fish.Species}}</ion-card-title>
          </ion-card-header>

          <ion-slides pager="false" *ngIf="fish.Pic" (click)="selectSpecies(fish, false)">
            <ion-slide class="imageBox" *ngIf="fish.Pic[0]">
              <img [src]="fish.Pic[0]" onerror="this.src='../assets/noImg.png'" default="../assets/noImg.png"/>
            </ion-slide>
            <ion-slide class="imageBox" *ngIf="fish.Pic[1]">
              <img [src]="fish.Pic[1]" onerror="this.src='../assets/noImg.png'" default="../assets/noImg.png"/>
            </ion-slide>
           <ion-slide class="imageBox" *ngIf="fish.Pic[2]">
             <img [src]="fish.Pic[2]" onerror="this.src='../assets/noImg.png'" default="../assets/noImg.png"/>
           </ion-slide>
            <ion-slide class="imageBox" *ngIf="fish.Pic[3]">
              <img [src]="fish.Pic[3]" onerror="this.src='../assets/noImg.png'" default="../assets/noImg.png"/>
            </ion-slide>
          </ion-slides>
        </ion-card>
      </div>
      <label class="nextPageTxt" (click)="nextPage()" *ngIf="fbSpecies.length >= 10"> -- NEXT PAGE --</label>
      <label class="nextPageTxt prev" (click)="previousPage()" *ngIf="minSpeciesReturn >= 10"> -- PREVIOUS PAGE --</label>
    </div>

    <!-- FISHBASE RELATED SPECIES -->

    <div *ngIf="doneLoading && relatedSpecies.length >= 1" class="theResults">
      <div class="topTitle" *ngIf="relatedSpeciesLength >= 1">{{ relatedSpeciesLength }} Species Related</div>

      <div *ngFor="let fish of relatedSpecies">
        <ion-card class="animated bounceInLeft" *ngIf="fish.id >= minSpeciesReturn && fish.id <= maxSpeciesReturn">
          <ion-card-header>
            <ion-card-subtitle><b (click)="showGenus(fish.Genus)">{{fish.Genus}}</b><i> {{fish.Species}}</i></ion-card-subtitle>
            <ion-card-title *ngIf="fish.FBname">{{fish.FBname}}</ion-card-title>
            <ion-card-title *ngIf="!fish.FBname" (click)="selectSpecies(fish, false)" >The {{fish.Species}}</ion-card-title>
          </ion-card-header>

          <ion-slides pager="false" *ngIf="fish.Pic" (click)="selectSpecies(fish, false)">
           <ion-slide class="imageBox" *ngIf="fish.Pic[0]">
             <img [src]="fish.Pic[0]" onerror="this.src='../assets/noImg.png'" default="../assets/noImg.png"/>
           </ion-slide>
           <ion-slide class="imageBox" *ngIf="fish.Pic[1]">
             <img [src]="fish.Pic[1]" onerror="this.src='../assets/noImg.png'" default="../assets/noImg.png"/>
           </ion-slide>
          <ion-slide class="imageBox" *ngIf="fish.Pic[2]">
            <img [src]="fish.Pic[2]" onerror="this.src='../assets/noImg.png'" default="../assets/noImg.png"/>
          </ion-slide>
           <ion-slide class="imageBox" *ngIf="fish.Pic[3]">
             <img [src]="fish.Pic[3]" onerror="this.src='../assets/noImg.png'" default="../assets/noImg.png"/>
           </ion-slide>
          </ion-slides>
        </ion-card>
      </div>

      <label class="nextPageTxt" (click)="nextPage()" *ngIf="relatedSpecies.length >= 10"> -- NEXT PAGE --</label>
      <label class="nextPageTxt prev" (click)="previousPage()" *ngIf="minSpeciesReturn >= 10"> -- PREVIOUS PAGE --</label>
    </div>
  </div>


  <!-- LOADING SPINNER  -->
  <div  class="loadingSpinner" [ngClass]="{'lessTopLocal': loadedLocalSpecies}" *ngIf="searchQuery.length > 2 && !doneLoading">
    <ion-spinner name="crescent"></ion-spinner>
  </div>

</ion-content>

<ion-content *ngIf="speciesSelected">
  <div class="speciesSelectedMode">
    <ion-icon name="arrow-back" (click)="unSelectSpecies()" class="backArrow"></ion-icon>

    <div class="loadingSpinner detailSpinner" *ngIf="!speciesLoaded || !species.species">
      <ion-spinner name="crescent"></ion-spinner>
    </div>

    <ion-card *ngIf="speciesLoaded && species.genus">
      <ion-card-content>
        <ion-slides pager="false">
          <ng-template let-img ngFor [ngForOf]="species['Pics']">
           <ion-slide id="myImg" class="imageBox">
             <img [src]="img" onerror="this.src='../assets/noImg.png'; document.getElementById('myImg').style.display='none'" />
           </ion-slide>
           </ng-template>
        </ion-slides>
      </ion-card-content>
      <!-- WIKIPEDIA DESCRIPTION -->
      <p [ngClass]="{'wikiDescriptionSmall' : !fullWikiText}" class="wikiDescription" *ngIf="species.wikiDesc"> {{species.wikiDesc}} </p>
      <a class="centerSeeMore" *ngIf="!fullWikiText && species.wikiDesc" (click)="seeFulText()">See More <ion-icon name="arrow-dropdown"></ion-icon></a>
      <a class="centerSeeMore" *ngIf="fullWikiText && species.wikiDesc" (click)="seeLessText()">See Less <ion-icon name="arrow-dropup"></ion-icon></a>

    </ion-card>

    <ion-card class="coreInformation" *ngIf="speciesLoaded && species.genus">
      <ion-card-header>
        <ion-card-subtitle>
          <a (click)="showGenus(species.genus)">{{species.genus}}</a> <label class="speciesName"> {{species.species}}</label>
          <br /><br /> <a (click)="addTankTrigger(species)" class="addSpeciesClicker">+ Add Species to tank</a>
        </ion-card-subtitle>
        <ion-card-title>{{species.name}}</ion-card-title>
      </ion-card-header>

      <ion-card-content>

        <ul>

          <!-- AUS Etymology -->
          <li *ngIf="species.ausEty" [innerHTML]="species.ausEty"></li>
          <br *ngIf="species.ausEty" />

          <!-- PLANET CATFISH INFO -->
          <li *ngIf="species.etymology" [innerHTML]="species.etymology"></li>
          <br *ngIf="species.etymology" />

          <!-- WIKIPEDIA COMMON NAME -->
          <label *ngIf="species.wikiName">
            <li *ngIf="!species.name || species.wikiName.toLowerCase() !== species.name"><b>Other Name :</b><br />  {{species.wikiName}}</li>
            <br *ngIf="!species.name || species.wikiName.toLowerCase() !== species.name" />
          </label>

          <!-- PULLED FROM BEST SOURCE -->
          <li *ngIf="species.temperature"><b>Recommended Temperature :</b><br />
            <span [innerHTML]="species.temperature"></span>
          </li>
          <br *ngIf="species.temperature" />
          <li *ngIf="species.ph"><b>Recommended PH :</b><br />
            <span [innerHTML]="species.ph"></span>
          </li>
          <br *ngIf="species.ph" />
          <li *ngIf="species.hardness"><b>Recommended Hardness :</b><br />
            <span [innerHTML]="species.hardness"></span>
          </li>
          <br *ngIf="species.hardness" />

          <li *ngIf="species.locality"><b>Locality :</b><br />
            <span [innerHTML]="species.locality"></span>
          </li>

          <br *ngIf="species.locality" />

          <!-- PULLED FROM SERIOUSLY FISH -->
          <li *ngIf="species.habitat || species.norHabit || species.sharkHabitat || species.ausHabitat">
            <b>Habitat :</b><br />
            <span [innerHTML]="species.habitat"></span>
            <label *ngIf="species.habitat && species.norHabit"><br /> - <br /></label>
            <span [innerHTML]="species.norHabit"></span>
            <label *ngIf="species.norHabit && species.sharkHabitat"><br /> - <br /></label>
            <span [innerHTML]="species.sharkHabitat"></span>
            <label *ngIf="species.sharkHabitat && species.ausHabitat"><br /> - <br /></label>
            <span [innerHTML]="species.ausHabitat"></span>
          </li>
          <br *ngIf="species.habitat || species.norHabit || species.sharkHabitat || species.ausHabitat" />
          <li *ngIf="species.blackWater"><b>Black Water? :</b><br />
            <span [innerHTML]="species.size"></span>
          </li>
          <br *ngIf="species.blackWater" />
          <li *ngIf="species.aquaticPlants"><b>Aquatic Plants Recommended? :</b><br />
            <span [innerHTML]="species.size"></span>
          </li>
          <br *ngIf="species.aquaticPlants" />
          <li *ngIf="species.recommendedTankSize"><b>Recommended Tank Size :</b><br />
            <span [innerHTML]="species.recommendedTankSize"></span>
          </li>
          <br *ngIf="species.recommendedTankSize" />
          <li *ngIf="species.sexIdentificationFeatures"><b>Sexing Identification Features :</b><br />
            <span [innerHTML]="species.sexIdentificationFeatures"></span>
          </li>
          <br *ngIf="species.sexIdentificationFeatures" />
          <li *ngIf="species.diet"><b>Diet :</b><br />
            <span [innerHTML]="species.diet"></span>
          </li>
          <br *ngIf="species.diet" />
          <li *ngIf="species.enviroment"><b>Environment :</b><br />
            <span [innerHTML]="species.enviroment"></span>
          </li>
          <br *ngIf="species.enviroment" />
          <li *ngIf="species.tankMates"><b>Recommended Tank Mates :</b><br />
            <span [innerHTML]="species.tankMates"></span>
          </li>
          <br *ngIf="species.tankMates" />

          <!-- AUSTRALIAN LAWS -->
          <b *ngIf="species.rules">Potential Legality <br /></b>

          <li *ngIf="species.rules">
            <i>Legal species of the {{species.genus}} Genus in Australia:</i>
            <br /><br />
            <label *ngFor="let rule of species['rules']">
              &bull; {{rule}} <br />
            </label>
          </li>

          <!-- <li *ngIf="!species.rules">
            The genus of this species is illegal in Australia
          </li> -->
          <br *ngIf="species.rules"/>

          <!-- PLANET CATFISH INFO -->
          <li *ngIf="species.size || species.sharkSize || species.ausSize || species.ausRegSize">
            <b>Size :</b><br />
            <span [innerHTML]="species.size"></span>
            <label *ngIf="species.size && species.sharkSize"><br /> - <br /></label>
            <span [innerHTML]="species.sharkSize"></span>
            <label *ngIf="species.sharkSize && species.ausSize"><br /> - <br /></label>
            <span [innerHTML]="species.ausSize"></span>
            <label *ngIf="species.ausSize && species.ausRegSize"><br /> - <br /></label>
            <span [innerHTML]="species.ausRegSize"></span>
          </li>
          <br *ngIf="species.size || species.sharkSize || species.ausSize || species.ausRegSize" />
          <li *ngIf="species.identification"><b>Identification :</b><br /> {{species.identification}}</li>
          <br *ngIf="species.identification" />
          <li *ngIf="species.sexing"><b>Sexing :</b><br /> {{species.sexing}}</li>
          <br *ngIf="species.sexing" />
          <li *ngIf="species.distribution || species.sharkDist || species.norDist">
            <b>Distribution :</b><br />
            <span [innerHTML]="species.distribution"></span>
            <label *ngIf="species.distribution && species.sharkDist"><br /> - <br /></label>
            <span [innerHTML]="species.species"></span>
            <label *ngIf="species.sharkDist && species.norDist"><br /> - <br /></label>
            <span [innerHTML]="species.norDist"></span>
          </li>
          <br *ngIf="species.distribution || species.sharkDist || species.norDist" />
          <li *ngIf="species.feeding || species.ausFeed">
            <b>Feeding :</b><br />
            <span [innerHTML]="species.feeding"></span>
            <label *ngIf="species.feeding && species.ausFeed"><br /> - <br /></label>
            <span [innerHTML]="species.ausFeed"></span>
          </li>
          <br *ngIf="species.feeding || species.ausFeed" />
          <li *ngIf="species.furniture"><b>Recommended Tank Decoration :</b><br /> <span [innerHTML]="species.furniture"></span></li>
          <br *ngIf="species.furniture" />
          <li *ngIf="species.compatibility"><b>Compatibility :</b><br /> <span [innerHTML]="species.compatibility"></span></li>
          <br *ngIf="species.compatibility" />
          <li *ngIf="species.SFtankMates"><b>Recommended Tank Mates :</b><br /> <span [innerHTML]="species.SFtankMates"></span></li>
          <br *ngIf="species.SFtankMates" />
          <li *ngIf="species.repoduction"><b>Breeding :</b><br /> <span [innerHTML]="species.repoduction"></span></li>
          <br *ngIf="species.repoduction" />

          <li *ngIf="species.SFComments || species.norChar || species.comments || species.description || species.sharkDesc">
            <b>Species Information :</b><br />
            <span [innerHTML]="species.SFComments"></span>
            <label *ngIf="species.SFComments && species.norChar"><br /> - <br /></label>
            <span [innerHTML]="species.norChar"></span>
            <label *ngIf="species.norChar && species.comments"><br /> - <br /></label>
            <span [innerHTML]="species.comments"></span>
            <label *ngIf="species.comments && species.description"><br /> - <br /></label>
            <span [innerHTML]="species.description"></span>
            <label *ngIf="species.description && species.sharkDesc"><br /> - <br /></label>
            <span [innerHTML]="species.sharkDesc"></span>
          </li>
          <br *ngIf="species.SFComments || species.norChar || species.comments || species.description || species.sharkDesc" />

          <li *ngIf="species.speciesVunFloored">
            <b>Vunerability Status :</b><br />
            {{speciesVunFloored}}/100
          </li>
          <br *ngIf="species.speciesVunFloored"/>

          <li *ngIf="species.dangerous !== 'harmless'">
            <b>Danger to human status :</b><br />
            {{species.dangerous}}
          </li>
          <br *ngIf="species.dangerous != 'harmless'" />


          <li *ngIf="species.depth || species.ausDepth">
            <b>Depth :</b><br />
            <span [innerHTML]="species.depth"></span>
            <label *ngIf="species.depth && species.ausDepth"><br /> - <br /></label>
            <span [innerHTML]="species.ausDepth"></span>
          </li>
          <br *ngIf="species.depth || species.ausDepth" />

          <!-- SHARK INFO -->
          <li *ngIf="species.sharkBio || species.ausBio"><b>Biology :</b><br />
            <span [innerHTML]="species.sharkBio"></span>
            <label *ngIf="species.sharkBio && species.ausBio"><br /> - <br /></label>
            <span [innerHTML]="species.ausBio"></span>
          </li>
          <br *ngIf="species.sharkBio || species.ausBio" />

          <li *ngIf="species.ausFeatures">
            <b>Features :</b><br />
            <span [innerHTML]="species.ausFeatures"></span>
          </li>
          <br *ngIf="species.ausFeatures" />
          <li *ngIf="species.ausColour">
            <b>Colour :</b><br />
            <span [innerHTML]="species.ausColour"></span>
          </li>
          <br *ngIf="species.ausColour" />
          <li *ngIf="species.ausFisheries">
            <b>Fisheries :</b><br />
            <span [innerHTML]="species.ausFisheries"></span>
            </li>
          <br *ngIf="species.ausFisheries" />
          <li *ngIf="species.ausRemarks">
            <b>Remarks :</b><br />
            <span [innerHTML]="species.ausRemarks"></span>
          </li>
          <br *ngIf="species.ausRemarks" />
          <li *ngIf="species.ausConserve">
            <b>Conservation :</b><br />
            <span [innerHTML]="species.ausConserve"></span>
          </li>
          <br *ngIf="species.ausConserve" />
          <li *ngIf="species.ausSimilar">
            <b>Similar Species :</b><br />
            <span [innerHTML]="species.ausSimilar"></span>
          </li>
          <br *ngIf="species.ausSimilar" />
        </ul>

      </ion-card-content>
    </ion-card>


      <!-- <div *ngIf="species">
        <div class="informationBrick" *ngIf="speciesDataLoaded">
          <h1>{{species.species}}</h1>
          <h2 *ngIf="species.name">"{{species.name}}"</h2>
          <h3>{{species.genus}}</h3>

        </div>

        <div class="informationBrick">
            <button class="addToTankButton">Add species to Tank</button>
        </div>

        <div class="informationBrick variationsBrick">
            <h4>Variations</h4>
            <h5 (click)="addVariation(species)">Add a variation</h5>
            <label class="noVariations" *ngIf="variations.length == 0">No variations where found for {{species.species}}</label>
            <div class="speciesGrid" *ngFor="let variation of variations">
              <div class="speciesBlock">{{variation.name}}</div>
            </div>
        </div>

      </div> -->
  </div>
</ion-content>
