<ion-content>

  <!-- Section 1: ALL TANKS -->
  <div class="paddingSpace" *ngIf="defaultMode">
    <h1>Your Tanks</h1>

    <div class="tankSpace" (click)="addTank()">
      <h3>+ <br /><br /> Start your first tank !</h3>
    </div>

    <div *ngIf="tanks">
      <div class="tankSpace" *ngFor="let tank of tanks" (click)="initTankDetail(tank.name)">
        <h3>{{tank.name}}</h3>
        <h4><i>{{tank.ph}}deg &bull; PH{{tank.ph}} &bull; {{tank.size}}L</i></h4>
        <h5>With a {{tank.substrate}} substrate</h5>
      </div>
    </div>

    <ion-spinner name="bubbles" color="primary" class="mySpinner" *ngIf="!doneLoadingTanks"></ion-spinner>
  </div>

  <div style="padding-top: 3em" *ngIf="tankDetailMode && activeTankData">
    <h1>{{activeTankData.name}}</h1>

    <ion-list class="speciesList">
      <ion-list-header>
        <!-- <a class="lilEdit" href="#">edit</a> -->
        <ion-label>Tank Stats</ion-label>
      </ion-list-header>

      <ion-item>
        <ion-icon name="flask" slot="start"></ion-icon>
        <ion-label>
          <b> pH </b> &nbsp; <i>{{activeTankData.ph}}</i>
        </ion-label>
      </ion-item>

      <ion-item>
        <ion-icon name="flame" slot="start"></ion-icon>
        <ion-label>
          <b> Temperature </b> &nbsp; <i>{{activeTankData.temp}} &deg;</i>
        </ion-label>
      </ion-item>

      <ion-item>
        <ion-icon name="cube" slot="start"></ion-icon>
        <ion-label>
          <b> Size </b> &nbsp; <i>{{activeTankData.size}} Litres</i>
        </ion-label>
      </ion-item>

      <ion-item>
        <ion-icon name="funnel" slot="start"></ion-icon>
        <ion-label>
          <b> Substrate </b> &nbsp; <i>{{activeTankData.substrate}}</i>
        </ion-label>
      </ion-item>
      <!-- <ion-item>
        <ion-icon slot="start" name="flame"></ion-icon>
        <ion-label slot="end"><b> Temperature </b> &nbsp; <i>23</i></ion-label>
      </ion-item> -->
    </ion-list>

    <ion-list class="speciesList">
      <ion-list-header>
        <ion-label>Core Tank <a class="lilEdit" href="#">edit</a></ion-label>
      </ion-list-header>
      <ion-item (click)="selectSpecies('Ghost Knife')">1x &nbsp; <b> Ghost Knife </b> &nbsp; <i>(Apteronotus Albifrons)</i></ion-item>
      <ion-item (click)="selectSpecies('Butterflyfish')">1x &nbsp; <b> Butterflyfish </b> &nbsp; <i>(Pantodon Buchholzi)</i></ion-item>
      <ion-item (click)="selectSpecies('Pinoy Blue Angelfish')">2x &nbsp; <b> Pinoy Blue Angelfish </b> &nbsp; <i>(Pterophyllum)</i></ion-item>
      <ion-item (click)="selectSpecies('Kuhli Loach')">4x &nbsp; <b> Kuhli Loach </b> &nbsp; <i>(Actinopterygii)</i></ion-item>
      <ion-item (click)="selectSpecies('Otocinclus')">1x &nbsp; <b> Otocinclus </b> &nbsp; <i>(Hypoptopomatinae)</i></ion-item>
    </ion-list>
  </div>

  <!-- Section 2: ADD TANK -->
  <div class="addTank" *ngIf="addTankMode">

    <h1>Add a Tank</h1>

    <form (ngSubmit)="confirmForm()">
      <ion-list>
        <ion-item>
          <ion-label position="stacked">Tank Name</ion-label>
          <ion-input type="text" [(ngModel)]="tank.name" name="name" required></ion-input>
        </ion-item>

        <ion-item>
          <ion-label position="stacked">PH (approx)</ion-label>
          <ion-input type="number" [(ngModel)]="tank.ph" name="ph" required></ion-input>
        </ion-item>

        <ion-item>
          <ion-label position="stacked">Temperature (DEG)</ion-label>

          <ion-range min="15" max="35" step="1" snaps="true" ticks="true" pin="true" [(ngModel)]="tank.temp" name="temp" required>
            <ion-icon size="small" slot="start" name="snow"></ion-icon>
            <ion-icon slot="end" name="flame"></ion-icon>
          </ion-range>

        </ion-item>

        <ion-item>
          <ion-label position="stacked">Size (Liters)</ion-label>
          <ion-input type="number" [(ngModel)]="tank.size" name="size" required></ion-input>
        </ion-item>

        <ion-radio-group [(ngModel)]="tank.substrate" name="substrate" required>
          <ion-list-header>
            <ion-label>Substrate</ion-label>
          </ion-list-header>

          <ion-item>
            <ion-label>Coral Sand</ion-label>
            <ion-radio slot="start" value="coral_sand"></ion-radio>
          </ion-item>
          <ion-item>
            <ion-label>River Sand</ion-label>
            <ion-radio slot="start" value="river_sand"></ion-radio>
          </ion-item>
          <ion-item>
            <ion-label>Quartz</ion-label>
            <ion-radio slot="start" value="quartz"></ion-radio>
          </ion-item>
          <ion-item>
            <ion-label>Laterite</ion-label>
            <ion-radio slot="start" value="laterite"></ion-radio>
          </ion-item>
          <ion-item>
            <ion-label>Stones</ion-label>
            <ion-radio slot="start" value="stones"></ion-radio>
          </ion-item>
          <ion-item>
            <ion-label>Mirco-Stones</ion-label>
            <ion-radio slot="start" value="mirco_stones"></ion-radio>
          </ion-item>
          <ion-item>
            <ion-label>Other</ion-label>
            <ion-radio slot="start" value="other"></ion-radio>
          </ion-item>
        </ion-radio-group>

        <button class="confirmBtn" type="submit">Confirm</button>
      </ion-list>

    </form>
  </div>
</ion-content>
